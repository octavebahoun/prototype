<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Chef de Département - Informatique</title>
    <!-- Tailwind CSS v4 -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8FAFC;
        }

        [x-cloak] {
            display: none !important;
        }

        .sidebar-active {
            background-color: rgba(255, 255, 255, 0.1);
            border-left: 4px solid #FFFFFF;
        }

        .primary-bg {
            background-color: #2E75B6;
        }

        .primary-text {
            color: #2E75B6;
        }

        .primary-border {
            border-color: #2E75B6;
        }
    </style>
</head>

<body x-data="{ 
    activeTab: 'overview',
    showNewMajorModal: false,
    showAddStudentModal: false,
    showImportModal: false,
    sidebarOpen: true,
    importStep: 1,
    expandedMajor: 'L3-INFO',
    majorTab: 'matières',
    fileUploaded: false
}">
    <div class="flex h-screen overflow-hidden">
        <!-- Sidebar -->
        <aside :class="sidebarOpen ? 'w-64' : 'w-20'"
            class="primary-bg text-white transition-all duration-300 flex flex-col z-20">
            <div class="p-6 flex items-center justify-between">
                <div class="flex items-center gap-3 overflow-hidden" x-show="sidebarOpen">
                    <div class="bg-white p-2 rounded-lg text-[#2E75B6]">
                        <i data-lucide="graduation-cap" class="w-6 h-6"></i>
                    </div>
                    <span class="font-bold text-xl tracking-tight whitespace-nowrap">UniAdmin</span>
                </div>
                <button @click="sidebarOpen = !sidebarOpen" class="hover:bg-white/10 p-1 rounded">
                    <i data-lucide="menu"></i>
                </button>
            </div>

            <nav class="flex-1 mt-6 px-3 space-y-2 overflow-y-auto no-scrollbar">
                <a @click="activeTab = 'overview'"
                    :class="activeTab === 'overview' ? 'sidebar-active' : 'hover:bg-white/5'"
                    class="flex items-center gap-3 px-3 py-3 rounded-lg cursor-pointer transition-colors">
                    <i data-lucide="layout-dashboard" class="w-5 h-5"></i>
                    <span x-show="sidebarOpen">Vue d'ensemble</span>
                </a>
                <a @click="activeTab = 'majors'" :class="activeTab === 'majors' ? 'sidebar-active' : 'hover:bg-white/5'"
                    class="flex items-center gap-3 px-3 py-3 rounded-lg cursor-pointer transition-colors">
                    <i data-lucide="layers" class="w-5 h-5"></i>
                    <span x-show="sidebarOpen">Mes Filières</span>
                </a>
                <a @click="activeTab = 'students'"
                    :class="activeTab === 'students' ? 'sidebar-active' : 'hover:bg-white/5'"
                    class="flex items-center gap-3 px-3 py-3 rounded-lg cursor-pointer transition-colors">
                    <i data-lucide="users" class="w-5 h-5"></i>
                    <span x-show="sidebarOpen">Étudiants</span>
                </a>
                <a @click="activeTab = 'grades'" :class="activeTab === 'grades' ? 'sidebar-active' : 'hover:bg-white/5'"
                    class="flex items-center gap-3 px-3 py-3 rounded-lg cursor-pointer transition-colors">
                    <i data-lucide="bar-chart" class="w-5 h-5"></i>
                    <span x-show="sidebarOpen">Notes</span>
                </a>
                <a @click="activeTab = 'schedule'"
                    :class="activeTab === 'schedule' ? 'sidebar-active' : 'hover:bg-white/5'"
                    class="flex items-center gap-3 px-3 py-3 rounded-lg cursor-pointer transition-colors">
                    <i data-lucide="calendar" class="w-5 h-5"></i>
                    <span x-show="sidebarOpen">Plannings</span>
                </a>
            </nav>

            <div class="p-4 border-t border-white/10" x-show="sidebarOpen">
                <div class="bg-white/10 p-4 rounded-xl">
                    <p class="text-xs text-white/60 mb-1">Session active</p>
                    <p class="text-sm font-medium">Chef Informatique</p>
                </div>
            </div>
        </aside>

        <!-- Main Content Wrapper -->
        <main class="flex-1 flex flex-col overflow-hidden">
            <!-- Header -->
            <header
                class="bg-white h-20 px-8 flex items-center justify-between shadow-sm border-b border-gray-100 z-10">
                <div class="flex items-center gap-4">
                    <div
                        class="bg-blue-50 text-blue-600 px-3 py-1 rounded-full text-xs font-bold border border-blue-100">
                        DÉPT. INFORMATIQUE</div>
                    <div class="h-4 w-[1px] bg-gray-200"></div>
                    <p class="text-sm text-gray-500 font-medium hidden md:block">Année: <span
                            class="text-gray-800">2025-2026</span></p>
                </div>

                <div class="flex items-center gap-6">
                    <div class="relative cursor-pointer hover:bg-gray-50 p-2 rounded-full">
                        <i data-lucide="bell" class="w-6 h-6 text-gray-600"></i>
                        <span
                            class="absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border-2 border-white"></span>
                    </div>
                    <div class="h-8 w-[1px] bg-gray-200"></div>
                    <div class="flex items-center gap-3">
                        <div class="text-right">
                            <p class="text-sm font-semibold text-gray-800 uppercase">Mourchid FOLARIN</p>
                            <p class="text-xs text-gray-500 italic">Chef de Département</p>
                        </div>
                        <div
                            class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center border-2 border-white shadow-sm overflow-hidden">
                            <img src="https://ui-avatars.com/api/?name=Mourchid+Folarin&background=2E75B6&color=fff"
                                alt="Avatar">
                        </div>
                    </div>
                </div>
            </header>

            <!-- Scrollable Content -->
            <div class="flex-1 overflow-y-auto p-8">

                <!-- 1. VUE D'ENSEMBLE -->
                <div x-show="activeTab === 'overview'" x-cloak class="space-y-8 animate-in fade-in duration-500">
                    <div class="flex items-center justify-between">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-800">Tableau de bord</h1>
                            <p class="text-gray-500">Aperçu rapide de l'activité du département.</p>
                        </div>
                    </div>

                    <!-- KPI Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div
                            class="bg-white p-5 rounded-3xl border border-gray-100 shadow-sm flex items-center gap-4 group hover:border-[#2E75B6]/30 transition-all">
                            <div
                                class="bg-blue-50 p-3 rounded-2xl text-[#2E75B6] group-hover:bg-[#2E75B6] group-hover:text-white transition-all">
                                <i data-lucide="book" class="w-5 h-5"></i></div>
                            <div>
                                <p
                                    class="text-[8px] font-black text-gray-400 uppercase tracking-widest italic leading-none">
                                    Filières actives</p>
                                <p class="text-xl font-black text-gray-800 italic">8</p>
                            </div>
                        </div>

                        <div
                            class="bg-white p-5 rounded-3xl border border-gray-100 shadow-sm flex items-center gap-4 group hover:border-[#2E75B6]/30 transition-all">
                            <div
                                class="bg-blue-50 p-3 rounded-2xl text-[#2E75B6] group-hover:bg-[#2E75B6] group-hover:text-white transition-all">
                                <i data-lucide="users" class="w-5 h-5"></i></div>
                            <div>
                                <p
                                    class="text-[8px] font-black text-gray-400 uppercase tracking-widest italic leading-none">
                                    Étudiants</p>
                                <p class="text-xl font-black text-gray-800 italic">456</p>
                            </div>
                        </div>

                        <div
                            class="bg-white p-5 rounded-3xl border border-gray-100 shadow-sm flex items-center gap-4 group hover:border-[#2E75B6]/30 transition-all">
                            <div
                                class="bg-blue-50 p-3 rounded-2xl text-[#2E75B6] group-hover:bg-[#2E75B6] group-hover:text-white transition-all">
                                <i data-lucide="file-text" class="w-5 h-5"></i></div>
                            <div>
                                <p
                                    class="text-[8px] font-black text-gray-400 uppercase tracking-widest italic leading-none">
                                    Matières (S1)</p>
                                <p class="text-xl font-black text-gray-800 italic">32</p>
                            </div>
                        </div>

                        <div
                            class="bg-white p-5 rounded-3xl border border-gray-100 shadow-sm flex items-center gap-4 group hover:border-[#2E75B6]/30 transition-all">
                            <div
                                class="bg-blue-50 p-3 rounded-2xl text-[#2E75B6] group-hover:bg-[#2E75B6] group-hover:text-white transition-all">
                                <i data-lucide="star" class="w-5 h-5"></i></div>
                            <div>
                                <p
                                    class="text-[8px] font-black text-gray-400 uppercase tracking-widest italic leading-none">
                                    Moyenne Générale</p>
                                <p class="text-xl font-black text-gray-800 italic">14.2</p>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <!-- Left: Filières du département -->
                        <div class="lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                            <div class="flex items-center justify-between mb-6">
                                <h2 class="text-lg font-bold text-gray-800">Filières principales</h2>
                                <button @click="activeTab = 'majors'"
                                    class="text-sm font-bold primary-text hover:underline">Gérer tout</button>
                            </div>

                            <div class="space-y-4">
                                <div
                                    class="bg-gray-50/50 rounded-xl p-4 flex items-center justify-between group hover:bg-gray-100/50 transition-colors">
                                    <div class="flex items-center gap-4">
                                        <div
                                            class="w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center font-bold text-blue-600">
                                            L1</div>
                                        <div>
                                            <h4 class="font-bold text-gray-800">L1 Informatique</h4>
                                            <p class="text-xs text-gray-500">89 étudiants • Taux réussite: <span
                                                    class="text-green-600 font-bold">92%</span></p>
                                        </div>
                                    </div>
                                    <i data-lucide="arrow-right"
                                        class="w-5 h-5 text-gray-300 group-hover:translate-x-1 group-hover:text-blue-500 transition-all"></i>
                                </div>
                                <div
                                    class="bg-gray-50/50 rounded-xl p-4 flex items-center justify-between group hover:bg-gray-100/50 transition-colors">
                                    <div class="flex items-center gap-4">
                                        <div
                                            class="w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center font-bold text-blue-600">
                                            L2</div>
                                        <div>
                                            <h4 class="font-bold text-gray-800">L2 Informatique</h4>
                                            <p class="text-xs text-gray-500">76 étudiants • Taux réussite: <span
                                                    class="text-green-600 font-bold">88%</span></p>
                                        </div>
                                    </div>
                                    <i data-lucide="arrow-right"
                                        class="w-5 h-5 text-gray-300 group-hover:translate-x-1 group-hover:text-blue-500 transition-all"></i>
                                </div>
                                <div
                                    class="bg-gray-50/50 rounded-xl p-4 flex items-center justify-between group hover:bg-gray-100/50 transition-colors">
                                    <div class="flex items-center gap-4">
                                        <div
                                            class="w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center font-bold text-blue-600">
                                            L3</div>
                                        <div>
                                            <h4 class="font-bold text-gray-800">L3 Informatique</h4>
                                            <p class="text-xs text-gray-500">103 étudiants • Taux réussite: <span
                                                    class="text-green-600 font-bold">90%</span></p>
                                        </div>
                                    </div>
                                    <i data-lucide="arrow-right"
                                        class="w-5 h-5 text-gray-300 group-hover:translate-x-1 group-hover:text-blue-500 transition-all"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Right: Statistiques Globales (Read Only) -->
                        <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                            <h2 class="text-lg font-bold text-gray-800 mb-6">Contexte Université</h2>
                            <div class="space-y-6">
                                <div>
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-sm text-gray-500">Total étudiants</span>
                                        <span class="text-sm font-bold text-gray-800">2,847</span>
                                    </div>
                                    <div class="w-full bg-gray-100 h-2 rounded-full overflow-hidden">
                                        <div class="bg-blue-500 h-full w-[89%] rounded-full"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-sm text-gray-500">Taux global de réussite</span>
                                        <span class="text-sm font-bold text-green-600">89%</span>
                                    </div>
                                    <div class="w-full bg-gray-100 h-2 rounded-full overflow-hidden">
                                        <div class="bg-green-500 h-full w-[89%] rounded-full"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-sm text-gray-500">Moyenne université</span>
                                        <span class="text-sm font-bold text-gray-800">13.8</span>
                                    </div>
                                    <div class="w-full bg-gray-100 h-2 rounded-full overflow-hidden">
                                        <div class="bg-orange-400 h-full w-[69%] rounded-full"></div>
                                    </div>
                                </div>
                                <div class="pt-4 border-t border-gray-50">
                                    <p class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-4">Evolution
                                        Inscriptions</p>
                                    <div class="h-32">
                                        <canvas id="miniTrendChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Bottom Section: Actions Rapides -->
                    <div class="bg-gray-50 rounded-3xl p-8 border border-gray-100 mb-8">
                        <h3 class="text-lg font-bold text-gray-800 mb-6">Actions rapides</h3>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <button @click="activeTab = 'grades'; showImportModal = true; importStep = 1"
                                class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col items-center gap-3 hover:shadow-md hover:border-blue-200 transition-all group active:scale-95">
                                <div
                                    class="w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center primary-text group-hover:bg-[#2E75B6] group-hover:text-white transition-colors">
                                    <i data-lucide="upload-cloud" class="w-6 h-6"></i>
                                </div>
                                <span
                                    class="text-xs font-bold text-gray-700 text-center uppercase tracking-tight">Importer
                                    étudiants</span>
                            </button>
                            <button @click="activeTab = 'grades'; showImportModal = true; importStep = 1"
                                class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col items-center gap-3 hover:shadow-md hover:border-green-200 transition-all group active:scale-95">
                                <div
                                    class="w-12 h-12 rounded-xl bg-green-50 flex items-center justify-center text-green-600 group-hover:bg-green-600 group-hover:text-white transition-colors">
                                    <i data-lucide="bar-chart" class="w-6 h-6"></i>
                                </div>
                                <span
                                    class="text-xs font-bold text-gray-700 text-center uppercase tracking-tight">Importer
                                    notes</span>
                            </button>
                            <button @click="activeTab = 'schedule'"
                                class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col items-center gap-3 hover:shadow-md hover:border-orange-200 transition-all group active:scale-95">
                                <div
                                    class="w-12 h-12 rounded-xl bg-orange-50 flex items-center justify-center text-orange-600 group-hover:bg-orange-600 group-hover:text-white transition-colors">
                                    <i data-lucide="calendar" class="w-6 h-6"></i>
                                </div>
                                <span
                                    class="text-xs font-bold text-gray-700 text-center uppercase tracking-tight">Planning
                                    de cours</span>
                            </button>
                            <button @click="activeTab = 'reports'"
                                class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col items-center gap-3 hover:shadow-md hover:border-purple-200 transition-all group active:scale-95">
                                <div
                                    class="w-12 h-12 rounded-xl bg-purple-50 flex items-center justify-center text-purple-600 group-hover:bg-purple-600 group-hover:text-white transition-colors">
                                    <i data-lucide="clipboard" class="w-6 h-6"></i>
                                </div>
                                <span
                                    class="text-xs font-bold text-gray-700 text-center uppercase tracking-tight">Visualiser
                                    Rapports</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 2. GESTION FILIÈRES -->
                <div x-show="activeTab === 'majors'" x-cloak
                    class="space-y-8 animate-in slide-in-from-right-4 duration-500">
                    <div class="flex items-center justify-between mb-8">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-800 uppercase tracking-tight">Mes Filières -
                                Informatique</h1>
                            <p class="text-gray-500 mt-1">Gérez les programmes académiques du département.</p>
                        </div>
                        <button @click="showNewMajorModal = true"
                            class="bg-[#2E75B6] text-white px-5 py-2.5 rounded-xl font-bold shadow-md hover:bg-blue-700 transition-all active:scale-95 flex items-center gap-2">
                            <i data-lucide="plus" class="w-5 h-5"></i>
                            Nouvelle Filière
                        </button>
                    </div>

                    <div class="grid grid-cols-1 gap-4">
                        <!-- L3 INFO Expanded Accordion -->
                        <div
                            class="bg-white rounded-3xl overflow-hidden border border-gray-100 shadow-sm ring-1 ring-gray-50">
                            <div class="p-6 flex items-center justify-between cursor-pointer hover:bg-gray-50/50 transition-colors"
                                @click="expandedMajor = expandedMajor === 'L3-INFO' ? '' : 'L3-INFO'">
                                <div class="flex items-center gap-5">
                                    <div
                                        class="w-14 h-14 rounded-2xl bg-blue-100 flex items-center justify-center font-bold text-blue-600 text-lg shadow-inner">
                                        L3</div>
                                    <div>
                                        <h3 class="font-bold text-xl text-gray-800">Licence 3 Informatique</h3>
                                        <div class="flex items-center gap-3 mt-1">
                                            <span
                                                class="text-[10px] font-bold bg-blue-50 text-blue-500 px-2 py-0.5 rounded tracking-widest border border-blue-100 uppercase">L3-INFO</span>
                                            <span class="text-xs text-gray-400 font-medium">103 étudiants • Moyenne
                                                section: 13.8/20</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 transition-all"
                                    :class="expandedMajor === 'L3-INFO' ? 'rotate-180 bg-blue-50 text-blue-500' : ''">
                                    <i data-lucide="chevron-down" class="w-5 h-5"></i>
                                </div>
                            </div>

                            <div x-show="expandedMajor === 'L3-INFO'" x-collapse class="border-t border-gray-50">
                                <div class="px-8 py-3 bg-gray-50/50 flex gap-8 border-b border-gray-50">
                                    <button @click="majorTab = 'matières'"
                                        :class="majorTab === 'matières' ? 'text-blue-600 font-bold border-b-2 border-blue-600 pb-2' : 'text-gray-400 font-medium hover:text-gray-600 pb-2'"
                                        class="text-sm transition-all">Matières</button>
                                    <button @click="majorTab = 'emploi'"
                                        :class="majorTab === 'emploi' ? 'text-blue-600 font-bold border-b-2 border-blue-600 pb-2' : 'text-gray-400 font-medium hover:text-gray-600 pb-2'"
                                        class="text-sm transition-all">Emploi du temps</button>
                                    <button @click="majorTab = 'étudiants'"
                                        :class="majorTab === 'étudiants' ? 'text-blue-600 font-bold border-b-2 border-blue-600 pb-2' : 'text-gray-400 font-medium hover:text-gray-600 pb-2'"
                                        class="text-sm transition-all">Étudiants</button>
                                </div>

                                <div class="p-8">
                                    <div x-show="majorTab === 'matières'"
                                        class="animate-in fade-in zoom-in-95 duration-200">
                                        <div class="overflow-hidden rounded-2xl border border-gray-100 shadow-sm">
                                            <table class="w-full text-left">
                                                <thead class="bg-gray-50/50 border-b border-gray-100">
                                                    <tr
                                                        class="text-[10px] font-bold text-gray-400 uppercase tracking-[0.15em]">
                                                        <th class="px-6 py-4">Unité d'enseignement</th>
                                                        <th class="px-6 py-4">Coeff.</th>
                                                        <th class="px-6 py-4">Enseignant Responsable</th>
                                                        <th class="px-6 py-4 text-right">Actions</th>
                                                    </tr>
                                                </thead>
                                                <tbody class="divide-y divide-gray-50">
                                                    <tr class="hover:bg-gray-50/20 transition-colors">
                                                        <td class="px-6 py-4 font-bold text-gray-800">Algorithmique
                                                            Avancée</td>
                                                        <td class="px-6 py-4 text-gray-600 font-medium text-sm">3</td>
                                                        <td class="px-6 py-4">
                                                            <div class="flex items-center gap-3">
                                                                <img src="https://ui-avatars.com/api/?name=Marie+Akande&background=22c55e&color=fff"
                                                                    class="w-7 h-7 rounded-sm border ring-2 ring-white">
                                                                <span class="text-sm font-semibold text-gray-700">Dr.
                                                                    Marie AKANDE</span>
                                                            </div>
                                                        </td>
                                                        <td class="px-6 py-4 text-right">
                                                            <div class="flex justify-end gap-1">
                                                                <button
                                                                    class="p-2 hover:bg-blue-50 rounded-lg text-blue-500 transition-all"><i
                                                                        data-lucide="edit-3"
                                                                        class="w-4 h-4"></i></button>
                                                                <button
                                                                    class="p-2 hover:bg-red-50 rounded-lg text-red-500 transition-all"><i
                                                                        data-lucide="trash-2"
                                                                        class="w-4 h-4"></i></button>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr class="hover:bg-gray-50/20 transition-colors">
                                                        <td class="px-6 py-4 font-bold text-gray-800">Bases de données
                                                            SQL / NoSQL</td>
                                                        <td class="px-6 py-4 text-gray-600 font-medium text-sm">2</td>
                                                        <td class="px-6 py-4">
                                                            <div class="flex items-center gap-3">
                                                                <img src="https://ui-avatars.com/api/?name=Jean+Kouton&background=f97316&color=fff"
                                                                    class="w-7 h-7 rounded-sm border ring-2 ring-white">
                                                                <span class="text-sm font-semibold text-gray-700">Pr.
                                                                    Jean KOUTON</span>
                                                            </div>
                                                        </td>
                                                        <td class="px-6 py-4 text-right">
                                                            <div class="flex justify-end gap-1">
                                                                <button
                                                                    class="p-2 hover:bg-blue-50 rounded-lg text-blue-500 transition-all"><i
                                                                        data-lucide="edit-3"
                                                                        class="w-4 h-4"></i></button>
                                                                <button
                                                                    class="p-2 hover:bg-red-50 rounded-lg text-red-500 transition-all"><i
                                                                        data-lucide="trash-2"
                                                                        class="w-4 h-4"></i></button>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <button
                                            class="mt-6 w-full py-4 border-2 border-dashed border-gray-100 rounded-2xl text-xs font-bold text-gray-400 uppercase tracking-widest hover:border-blue-200 hover:text-blue-500 hover:bg-blue-50/20 transition-all flex items-center justify-center gap-2">
                                            <i data-lucide="plus-square" class="w-5 h-5"></i>
                                            Inscrire une nouvelle matière
                                        </button>
                                    </div>
                                    <div x-show="majorTab === 'emploi'"
                                        class="animate-in fade-in slide-in-from-bottom-2 duration-300">
                                        <div
                                            class="bg-blue-50/50 p-12 rounded-3xl border border-dashed border-blue-100 flex flex-col items-center justify-center text-center">
                                            <div
                                                class="w-16 h-16 rounded-full bg-white flex items-center justify-center shadow-sm mb-4">
                                                <i data-lucide="calendar" class="w-8 h-8 text-blue-400"></i>
                                            </div>
                                            <h4 class="font-bold text-blue-900">Emploi du temps en cours de validation
                                            </h4>
                                            <p class="text-blue-800/60 max-w-sm text-sm mt-2">Le planning définitif pour
                                                L3 Informatique sera disponible après validation par le Directeur
                                                Adjoint.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- L2 / L1 Folded Accordions -->
                        <div
                            class="bg-white rounded-3xl overflow-hidden border border-gray-100 shadow-sm opacity-60 hover:opacity-100 transition-all cursor-not-allowed">
                            <div class="p-6 flex items-center justify-between">
                                <div class="flex items-center gap-5">
                                    <div
                                        class="w-14 h-14 rounded-2xl bg-gray-100 flex items-center justify-center font-bold text-gray-400 text-lg">
                                        L2</div>
                                    <div>
                                        <h3 class="font-bold text-xl text-gray-800">Licence 2 Informatique</h3>
                                        <p class="text-xs text-gray-400 font-medium">76 étudiants inscrits</p>
                                    </div>
                                </div>
                                <i data-lucide="lock" class="w-6 h-6 text-gray-200"></i>
                            </div>
                        </div>

                        <div
                            class="bg-white rounded-3xl overflow-hidden border border-gray-100 shadow-sm opacity-60 hover:opacity-100 transition-all cursor-not-allowed">
                            <div class="p-6 flex items-center justify-between">
                                <div class="flex items-center gap-5">
                                    <div
                                        class="w-14 h-14 rounded-2xl bg-gray-100 flex items-center justify-center font-bold text-gray-400 text-lg">
                                        L1</div>
                                    <div>
                                        <h3 class="font-bold text-xl text-gray-800">Licence 1 Informatique</h3>
                                        <p class="text-xs text-gray-400 font-medium">89 étudiants inscrits</p>
                                    </div>
                                </div>
                                <i data-lucide="lock" class="w-6 h-6 text-gray-200"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 3. GESTION NOTES (IMPORT) -->
                <div x-show="activeTab === 'grades'" x-cloak class="animate-in fade-in duration-500">
                    <div class="mb-6 flex items-center gap-3 text-xs font-bold uppercase tracking-widest text-gray-400">
                        <span class="hover:text-blue-500 cursor-pointer transition-colors"
                            @click="activeTab = 'overview'">Département</span>
                        <i data-lucide="chevron-right" class="w-3 h-3 text-gray-300"></i>
                        <span class="text-blue-600">Saisie des Notes (CSV)</span>
                    </div>

                    <h1 class="text-2xl font-black text-gray-800 mb-8 uppercase tracking-tighter">Import Massif de Notes
                    </h1>

                    <!-- Import Wizard -->
                    <div
                        class="bg-white rounded-3xl overflow-hidden shadow-2xl shadow-blue-500/5 border border-gray-100 ring-1 ring-gray-50">
                        <!-- Progress Header -->
                        <div class="flex bg-gray-50/50 border-b border-gray-100">
                            <div class="flex-1 p-6 flex items-center justify-center gap-3 transition-colors duration-300"
                                :class="importStep === 1 ? 'bg-blue-600 text-white shadow-lg' : 'text-gray-400'">
                                <span
                                    class="w-7 h-7 rounded-full border-2 flex items-center justify-center font-black text-xs"
                                    :class="importStep === 1 ? 'border-white' : 'border-gray-200'">1</span>
                                <span class="font-bold text-xs uppercase tracking-widest">Gabarit</span>
                            </div>
                            <div class="flex-1 p-6 flex items-center justify-center gap-3 transition-colors duration-300"
                                :class="importStep === 2 ? 'bg-blue-600 text-white shadow-lg' : 'text-gray-400'">
                                <span
                                    class="w-7 h-7 rounded-full border-2 flex items-center justify-center font-black text-xs"
                                    :class="importStep === 2 ? 'border-white' : 'border-gray-200'">2</span>
                                <span class="font-bold text-xs uppercase tracking-widest">Envoi</span>
                            </div>
                            <div class="flex-1 p-6 flex items-center justify-center gap-3 transition-colors duration-300"
                                :class="importStep === 3 ? 'bg-blue-600 text-white shadow-lg' : 'text-gray-400'">
                                <span
                                    class="w-7 h-7 rounded-full border-2 flex items-center justify-center font-black text-xs"
                                    :class="importStep === 3 ? 'border-white' : 'border-gray-200'">3</span>
                                <span class="font-bold text-xs uppercase tracking-widest">Analyse</span>
                            </div>
                        </div>

                        <div class="p-10">
                            <!-- Step 1 Content -->
                            <div x-show="importStep === 1" class="space-y-8 animate-in fade-in zoom-in-95 duration-300">
                                <div
                                    class="bg-blue-50 p-8 rounded-3xl border border-blue-100 relative overflow-hidden group">
                                    <i data-lucide="download"
                                        class="absolute -right-4 -bottom-4 w-32 h-32 text-blue-500/5 group-hover:scale-110 transition-transform"></i>
                                    <div class="relative z-10">
                                        <h4 class="font-black text-blue-900 text-lg uppercase tracking-tight">
                                            Télécharger le format standard</h4>
                                        <p class="text-blue-800/70 text-sm mt-2 max-w-lg font-medium leading-relaxed">
                                            Pour garantir l'intégration sans erreur dans le registre centralisé,
                                            utilisez exclusivement notre fichier Excel échantillon.</p>
                                        <button
                                            class="mt-6 bg-[#2E75B6] text-white px-6 py-3 rounded-xl font-bold text-sm shadow-xl shadow-blue-500/20 hover:scale-[1.03] active:scale-95 transition-all flex items-center gap-3">
                                            <i data-lucide="file-spreadsheet" class="w-5 h-5"></i>
                                            Télécharger le modèle .CSV
                                        </button>
                                    </div>
                                </div>

                                <div class="pt-6">
                                    <div class="flex items-center gap-3 mb-4">
                                        <div class="w-1.5 h-1.5 bg-blue-500 rounded-full"></div>
                                        <h4 class="text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]">
                                            Exemple de lignes valides</h4>
                                    </div>
                                    <div class="overflow-hidden rounded-2xl border border-gray-100 bg-white">
                                        <table class="w-full text-[11px] font-bold text-gray-500">
                                            <thead class="bg-gray-50/50 border-b border-gray-100">
                                                <tr>
                                                    <th class="px-6 py-3 uppercase tracking-wider">Identifiant Étudiant
                                                    </th>
                                                    <th class="px-6 py-3 uppercase tracking-wider">Code Matière</th>
                                                    <th class="px-6 py-3 uppercase tracking-wider">Note (/20)</th>
                                                    <th class="px-6 py-3 uppercase tracking-wider">Évaluation</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="text-gray-700">
                                                    <td class="px-6 py-4">21ETU001</td>
                                                    <td class="px-6 py-4">ALGO-ADV</td>
                                                    <td class="px-6 py-4">15.5</td>
                                                    <td class="px-6 py-4"><span
                                                            class="bg-gray-100 px-2 py-0.5 rounded text-[10px]">EXAMEN_FINAL</span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <div class="pt-8 flex justify-end">
                                    <button @click="importStep = 2"
                                        class="bg-gray-900 text-white px-8 py-3 rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg shadow-gray-900/10 hover:bg-black transition-all flex items-center gap-3 group">
                                        Téléversement
                                        <i data-lucide="chevron-right"
                                            class="w-4 h-4 group-hover:translate-x-1 transition-transform"></i>
                                    </button>
                                </div>
                            </div>

                            <!-- Step 2 Content -->
                            <div x-show="importStep === 2"
                                class="space-y-8 animate-in slide-in-from-right-8 duration-500">
                                <div class="border-2 border-dashed border-gray-100 rounded-3xl p-12 flex flex-col items-center justify-center hover:border-blue-400 hover:bg-blue-50/30 transition-all group cursor-pointer active:scale-[0.98] duration-300"
                                    @click="fileUploaded = true">
                                    <template x-if="!fileUploaded">
                                        <div class="text-center">
                                            <div
                                                class="w-16 h-16 rounded-2xl bg-gray-50 flex items-center justify-center text-gray-300 group-hover:bg-[#2E75B6] group-hover:text-white group-hover:rotate-6 transition-all duration-500 shadow-inner mx-auto mb-4">
                                                <i data-lucide="cloud-upload" class="w-8 h-8"></i>
                                            </div>
                                            <p class="font-black text-xl text-gray-800 tracking-tight uppercase italic">
                                                Déposer le CSV</p>
                                            <p
                                                class="text-[8px] text-gray-400 mt-1 font-black uppercase tracking-widest">
                                                Fichiers .csv uniquement</p>
                                        </div>
                                    </template>
                                    <template x-if="fileUploaded">
                                        <div class="w-full max-w-sm animate-in zoom-in-95 duration-500">
                                            <div
                                                class="bg-white p-5 rounded-2xl border border-[#2E75B6]/20 flex items-center gap-4 shadow-xl shadow-blue-500/5 relative overflow-hidden group">
                                                <div
                                                    class="w-12 h-12 rounded-xl bg-emerald-50 flex items-center justify-center text-emerald-500 relative z-10">
                                                    <i data-lucide="file-check" class="w-6 h-6"></i>
                                                </div>
                                                <div class="flex-1 overflow-hidden relative z-10">
                                                    <p class="font-black text-gray-800 text-xs truncate italic">
                                                        notes_l3_info.csv</p>
                                                    <p class="text-[8px] font-bold text-gray-400 mt-0.5">142 KB • 456
                                                        Lignes</p>
                                                </div>
                                                <button @click.stop="fileUploaded = false"
                                                    class="text-gray-300 hover:text-red-500 transition-colors relative z-10"><i
                                                        data-lucide="trash-2" class="w-4 h-4"></i></button>
                                            </div>
                                        </div>
                                    </template>
                                </div>

                                <div class="pt-8 flex justify-between">
                                    <button @click="importStep = 1"
                                        class="text-gray-500 font-black text-xs uppercase tracking-widest px-8 py-4 rounded-2xl border border-gray-100 hover:bg-gray-50 transition-all flex items-center gap-3">
                                        <i data-lucide="arrow-left" class="w-4 h-4"></i>
                                        Précédent
                                    </button>
                                    <button @click="importStep = 3" :disabled="!fileUploaded"
                                        class="bg-blue-600 text-white px-10 py-4 rounded-2xl font-black text-xs uppercase tracking-widest shadow-2xl shadow-blue-500/20 disabled:opacity-30 disabled:grayscale hover:bg-blue-700 transition-all flex items-center gap-3 group">
                                        Démarrer l'Analyse
                                        <i data-lucide="activity" class="w-4 h-4 group-hover:animate-pulse"></i>
                                    </button>
                                </div>
                            </div>

                            <!-- Step 3 Content -->
                            <div x-show="importStep === 3"
                                class="space-y-10 animate-in slide-in-from-right-8 duration-500">
                                <div class="bg-white rounded-3xl p-2 border border-blue-50 shadow-inner">
                                    <div class="flex items-center gap-5 px-4 mb-2">
                                        <div class="flex-1 h-3 bg-gray-100 rounded-full overflow-hidden">
                                            <div
                                                class="bg-gradient-to-r from-blue-500 to-green-400 h-full w-[100%] transition-all duration-2000 ease-out">
                                            </div>
                                        </div>
                                        <div class="flex items-center gap-2">
                                            <span
                                                class="text-xs font-black text-blue-600 uppercase tracking-tighter italic">Analyse
                                                Terminée</span>
                                            <i data-lucide="check-circle-2" class="w-4 h-4 text-green-500"></i>
                                        </div>
                                    </div>
                                </div>

                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                    <div
                                        class="bg-white p-6 rounded-3xl border border-gray-100 shadow-sm group hover:translate-y-[-2px] transition-transform">
                                        <div
                                            class="w-10 h-10 rounded-xl bg-emerald-50 text-emerald-500 flex items-center justify-center mb-4">
                                            <i data-lucide="shield-check" class="w-5 h-5"></i></div>
                                        <p
                                            class="text-[8px] font-black text-gray-400 uppercase tracking-widest italic leading-none">
                                            Valides</p>
                                        <p class="text-3xl font-black text-emerald-600 mt-2 italic tracking-tight">450
                                        </p>
                                    </div>
                                    <div
                                        class="bg-white p-6 rounded-3xl border border-gray-100 shadow-sm group hover:translate-y-[-2px] transition-transform">
                                        <div
                                            class="w-10 h-10 rounded-xl bg-amber-50 text-amber-500 flex items-center justify-center mb-4">
                                            <i data-lucide="help-circle" class="w-5 h-5"></i></div>
                                        <p
                                            class="text-[8px] font-black text-gray-400 uppercase tracking-widest italic leading-none">
                                            Avertissements</p>
                                        <p class="text-3xl font-black text-amber-600 mt-2 italic tracking-tight">06</p>
                                    </div>
                                    <div
                                        class="bg-white p-6 rounded-3xl border border-gray-100 shadow-sm group hover:translate-y-[-2px] transition-transform opacity-40">
                                        <div
                                            class="w-10 h-10 rounded-xl bg-red-50 text-red-500 flex items-center justify-center mb-4">
                                            <i data-lucide="alert-octagon" class="w-5 h-5"></i></div>
                                        <p
                                            class="text-[8px] font-black text-gray-400 uppercase tracking-widest italic leading-none">
                                            Échecs</p>
                                        <p class="text-3xl font-black text-red-600 mt-2 italic tracking-tight">00</p>
                                    </div>
                                </div>

                                <div class="flex items-center justify-between bg-orange-50/50 p-6 rounded-3xl border border-orange-100 group cursor-pointer hover:bg-orange-50 transition-colors"
                                    x-data="{ openWarnings: false }" @click="openWarnings = !openWarnings">
                                    <div class="flex items-center gap-4">
                                        <div
                                            class="w-12 h-12 rounded-2xl bg-white text-orange-500 flex items-center justify-center shadow-sm">
                                            <i data-lucide="eye" class="w-6 h-6"></i>
                                        </div>
                                        <div>
                                            <h5 class="font-bold text-orange-900 text-sm">Examiner les 6 avertissements
                                            </h5>
                                            <p class="text-xs text-orange-800/60 font-medium">Notes hors intervalle ou
                                                matricules inconnus</p>
                                        </div>
                                    </div>
                                    <i data-lucide="chevron-right" class="w-6 h-6 text-orange-200 transition-transform"
                                        :class="openWarnings ? 'rotate-90 text-orange-500' : ''"></i>
                                </div>

                                <div class="pt-10 flex justify-between items-center">
                                    <button @click="importStep = 2"
                                        class="text-gray-400 font-black text-xs uppercase tracking-widest hover:text-gray-800 transition-colors">Abondonner
                                        l'Importation</button>
                                    <button @click="activeTab = 'overview'; showImportModal = false"
                                        class="bg-[#2E75B6] text-white px-12 py-5 rounded-[2rem] font-black text-xs uppercase tracking-[0.2em] shadow-2xl shadow-blue-500/30 hover:scale-[1.05] active:scale-95 transition-all">
                                        Valider et Exécuter (450 Lignes)
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 4. GESTION ÉTUDIANTS -->
                <div x-show="activeTab === 'students'" x-cloak class="space-y-8 animate-in fade-in duration-500">
                    <div class="flex items-center justify-between">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-800 tracking-tight uppercase">Base de données
                                Étudiants</h1>
                            <p class="text-gray-500">Gestion et suivi des 456 étudiants du département.</p>
                        </div>
                        <button @click="showAddStudentModal = true"
                            class="bg-[#2E75B6] text-white px-6 py-3 rounded-2xl font-bold shadow-lg shadow-blue-500/20 hover:scale-[1.02] active:scale-95 transition-all flex items-center gap-2">
                            <i data-lucide="user-plus" class="w-5 h-5"></i>
                            Nouvel Étudiant
                        </button>
                    </div>

                    <!-- Filters & Search -->
                    <div
                        class="bg-white p-4 rounded-3xl border border-gray-100 shadow-sm flex flex-wrap items-center gap-4">
                        <div class="flex-1 min-w-[300px] relative">
                            <i data-lucide="search"
                                class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"></i>
                            <input type="text" placeholder="Rechercher par nom, matricule ou email..."
                                class="w-full bg-gray-50 border-none rounded-2xl py-3 pl-12 pr-4 focus:ring-2 focus:ring-blue-500/10 focus:outline-none font-medium text-sm">
                        </div>
                        <select
                            class="bg-gray-50 border-none rounded-2xl px-4 py-3 text-sm font-bold text-gray-600 focus:ring-2 focus:ring-blue-500/10 focus:outline-none cursor-pointer">
                            <option>Toutes les filières</option>
                            <option>L1 Informatique</option>
                            <option>L2 Informatique</option>
                            <option>L3 Informatique</option>
                        </select>
                        <select
                            class="bg-gray-50 border-none rounded-2xl px-4 py-3 text-sm font-bold text-gray-600 focus:ring-2 focus:ring-blue-500/10 focus:outline-none cursor-pointer">
                            <option>Tous les statuts</option>
                            <option>Inscrit</option>
                            <option>En attente</option>
                            <option>Diplômé</option>
                        </select>
                    </div>

                    <!-- Students Table -->
                    <div
                        class="bg-white rounded-[2rem] border border-gray-100 shadow-sm overflow-hidden ring-1 ring-gray-50">
                        <table class="w-full text-left">
                            <thead class="bg-gray-50/50 border-b border-gray-100">
                                <tr class="text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]">
                                    <th class="px-8 py-5">Étudiant</th>
                                    <th class="px-8 py-5">Matricule</th>
                                    <th class="px-8 py-5">Filière / Niveau</th>
                                    <th class="px-8 py-5">Statut</th>
                                    <th class="px-8 py-5 text-right">Actions</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-50">
                                <!-- Sample Row 1 -->
                                <tr class="hover:bg-gray-50/30 transition-colors">
                                    <td class="px-8 py-4">
                                        <div class="flex items-center gap-4">
                                            <img src="https://ui-avatars.com/api/?name=Alice+Moussa&background=random"
                                                class="w-10 h-10 rounded-xl shadow-sm border border-white">
                                            <div>
                                                <p class="font-bold text-gray-800">Alice MOUSSA</p>
                                                <p class="text-xs text-gray-400 lowercase">alice.moussa@u-admin.edu</p>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-8 py-4">
                                        <span
                                            class="font-mono text-sm font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded">22INF045</span>
                                    </td>
                                    <td class="px-8 py-4">
                                        <p class="font-bold text-gray-700 text-sm">L3 Informatique</p>
                                        <p
                                            class="text-[10px] text-gray-400 uppercase font-bold tracking-tighter text-blue-400">
                                            Parcours Software</p>
                                    </td>
                                    <td class="px-8 py-4">
                                        <span
                                            class="inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-tight bg-green-50 text-green-600 border border-green-100">
                                            <span class="w-1.5 h-1.5 rounded-full bg-green-500"></span>
                                            Inscrit
                                        </span>
                                    </td>
                                    <td class="px-8 py-4 text-right">
                                        <div class="flex justify-end gap-2">
                                            <button
                                                class="p-2.5 hover:bg-blue-50 rounded-xl text-blue-500 transition-all border border-transparent hover:border-blue-100"
                                                title="Profil"><i data-lucide="external-link"
                                                    class="w-4 h-4"></i></button>
                                            <button
                                                class="p-2.5 hover:bg-orange-50 rounded-xl text-orange-500 transition-all border border-transparent hover:border-orange-100"
                                                title="Modifier"><i data-lucide="edit-3" class="w-4 h-4"></i></button>
                                        </div>
                                    </td>
                                </tr>
                                <!-- Sample Row 2 -->
                                <tr class="hover:bg-gray-50/30 transition-colors">
                                    <td class="px-8 py-4">
                                        <div class="flex items-center gap-4">
                                            <img src="https://ui-avatars.com/api/?name=Yannick+Tovi&background=random"
                                                class="w-10 h-10 rounded-xl shadow-sm border border-white">
                                            <div>
                                                <p class="font-bold text-gray-800">Yannick TOVI</p>
                                                <p class="text-xs text-gray-400 lowercase">y.tovi@u-admin.edu</p>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-8 py-4">
                                        <span
                                            class="font-mono text-sm font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded">22INF089</span>
                                    </td>
                                    <td class="px-8 py-4">
                                        <p class="font-bold text-gray-700 text-sm">L3 Informatique</p>
                                        <p
                                            class="text-[10px] text-gray-400 uppercase font-bold tracking-tighter text-blue-400">
                                            Parcours Réseaux</p>
                                    </td>
                                    <td class="px-8 py-4">
                                        <span
                                            class="inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-tight bg-green-50 text-green-600 border border-green-100">
                                            <span class="w-1.5 h-1.5 rounded-full bg-green-500"></span>
                                            Inscrit
                                        </span>
                                    </td>
                                    <td class="px-8 py-4 text-right">
                                        <div class="flex justify-end gap-2">
                                            <button
                                                class="p-2.5 hover:bg-blue-50 rounded-xl text-blue-500 transition-all border border-transparent hover:border-blue-100"><i
                                                    data-lucide="external-link" class="w-4 h-4"></i></button>
                                            <button
                                                class="p-2.5 hover:bg-orange-50 rounded-xl text-orange-500 transition-all border border-transparent hover:border-orange-100"><i
                                                    data-lucide="edit-3" class="w-4 h-4"></i></button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <!-- Pagination -->
                        <div class="bg-gray-50/50 px-8 py-5 border-t border-gray-100 flex items-center justify-between">
                            <p class="text-xs font-bold text-gray-400 uppercase tracking-widest">Affichage de 1-10 sur
                                456</p>
                            <div class="flex gap-2">
                                <button
                                    class="px-4 py-2 bg-white border border-gray-100 rounded-xl text-xs font-black text-gray-400 cursor-not-allowed">Précédent</button>
                                <button
                                    class="px-4 py-2 bg-[#2E75B6] text-white rounded-xl text-xs font-black shadow-md">1</button>
                                <button
                                    class="px-4 py-2 bg-white border border-gray-100 rounded-xl text-xs font-black text-gray-600 hover:bg-gray-50">2</button>
                                <button
                                    class="px-4 py-2 bg-white border border-gray-100 rounded-xl text-xs font-black text-gray-600 hover:bg-gray-50">Suivant</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 5. EMPLOIS DU TEMPS -->
                <div x-show="activeTab === 'schedule'" x-cloak
                    class="space-y-8 animate-in slide-in-from-bottom-4 duration-500">
                    <div class="flex items-center justify-between">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-800 tracking-tight uppercase">Planning du
                                Département</h1>
                            <p class="text-gray-500">Visualisation hebdomadaire des cours et examens.</p>
                        </div>
                        <div class="flex gap-3">
                            <button
                                class="bg-[#2E75B6] text-white px-6 py-3 rounded-2xl font-bold shadow-lg shadow-blue-500/20 hover:scale-[1.02] active:scale-95 transition-all flex items-center gap-2">
                                <i data-lucide="plus-circle" class="w-5 h-5"></i>
                                Programmer Séance
                            </button>
                            <button
                                class="bg-white text-gray-700 px-6 py-3 rounded-2xl font-bold border border-gray-100 shadow-sm hover:bg-gray-50 transition-all flex items-center gap-2">
                                <i data-lucide="download" class="w-5 h-5"></i>
                                Exporter PDF
                            </button>
                        </div>
                    </div>

                    <!-- Calendar Controls -->
                    <div
                        class="bg-white p-4 rounded-3xl border border-gray-100 shadow-sm flex flex-wrap items-center justify-between gap-4">
                        <div class="flex items-center gap-4">
                            <button class="p-2 hover:bg-gray-50 rounded-xl text-gray-400 transition-all"><i
                                    data-lucide="chevron-left" class="w-6 h-6"></i></button>
                            <span class="font-black text-gray-800 uppercase tracking-tighter">23 - 28 Février
                                2026</span>
                            <button class="p-2 hover:bg-gray-50 rounded-xl text-gray-400 transition-all"><i
                                    data-lucide="chevron-right" class="w-6 h-6"></i></button>
                        </div>
                        <div class="flex items-center gap-4">
                            <select
                                class="bg-gray-50 border-none rounded-xl px-4 py-3 text-xs font-black text-gray-600 focus:ring-2 focus:ring-blue-500/10 focus:outline-none cursor-pointer">
                                <option>L3 Informatique</option>
                                <option>L2 Informatique</option>
                                <option>L1 Informatique</option>
                            </select>
                            <div class="flex bg-gray-100 p-1 rounded-xl">
                                <button
                                    class="px-4 py-1.5 rounded-lg text-xs font-black bg-white shadow-sm text-blue-600">Semaine</button>
                                <button
                                    class="px-4 py-1.5 rounded-lg text-xs font-black text-gray-400 hover:text-gray-600 transition-colors">Jour</button>
                            </div>
                        </div>
                    </div>

                    <!-- Weekly Grid -->
                    <div
                        class="bg-white rounded-[2.5rem] border border-gray-100 shadow-xl shadow-blue-500/5 overflow-hidden ring-1 ring-gray-50">
                        <div class="relative overflow-x-auto">
                            <table class="w-full border-collapse">
                                <thead>
                                    <tr class="bg-gray-50/50">
                                        <th
                                            class="w-20 p-5 border border-gray-50 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]">
                                            Heure</th>
                                        <th
                                            class="p-5 border border-gray-50 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]">
                                            Lundi</th>
                                        <th
                                            class="p-5 border border-gray-50 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]">
                                            Mardi</th>
                                        <th
                                            class="p-5 border border-gray-50 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]">
                                            Mercredi</th>
                                        <th
                                            class="p-5 border border-gray-50 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]">
                                            Jeudi</th>
                                        <th
                                            class="p-5 border border-gray-50 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]">
                                            Vendredi</th>
                                        <th
                                            class="p-5 border border-gray-50 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]">
                                            Samedi</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- 08:00 Slot -->
                                    <tr>
                                        <td
                                            class="p-5 border border-gray-50 text-center font-bold text-gray-300 text-xs">
                                            08:00</td>
                                        <td class="p-2 border border-gray-50 align-top">
                                            <div
                                                class="bg-blue-600 text-white p-4 rounded-3xl shadow-xl shadow-blue-500/20 ring-4 ring-blue-500/5 hover:scale-[1.03] transition-transform cursor-pointer">
                                                <p
                                                    class="text-[10px] font-bold opacity-80 uppercase tracking-widest mb-1">
                                                    C01 • COURS</p>
                                                <p class="font-black text-[13px] leading-tight mb-3">Algorithmique
                                                    Avancée</p>
                                                <div
                                                    class="flex items-center justify-between text-[10px] font-bold opacity-90">
                                                    <span class="flex items-center gap-1.5"><i data-lucide="map-pin"
                                                            class="w-3 h-3"></i> Salle 104</span>
                                                    <span class="flex items-center gap-1.5"><i data-lucide="user"
                                                            class="w-3 h-3"></i> Dr. Akande</span>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="p-2 border border-gray-50"></td>
                                        <td class="p-2 border border-gray-50 align-top">
                                            <div
                                                class="bg-emerald-500 text-white p-4 rounded-3xl shadow-xl shadow-emerald-500/20 ring-4 ring-emerald-500/5 hover:scale-[1.03] transition-transform cursor-pointer">
                                                <p
                                                    class="text-[10px] font-bold opacity-80 uppercase tracking-widest mb-1">
                                                    TP • PRATIQUE</p>
                                                <p class="font-black text-[13px] leading-tight mb-3">Base de données SQL
                                                </p>
                                                <div
                                                    class="flex items-center justify-between text-[10px] font-bold opacity-90">
                                                    <span class="flex items-center gap-1.5"><i data-lucide="map-pin"
                                                            class="w-3 h-3"></i> Labo Info</span>
                                                    <span class="flex items-center gap-1.5"><i data-lucide="user"
                                                            class="w-3 h-3"></i> Pr. Kouton</span>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="p-2 border border-gray-50"></td>
                                        <td class="p-2 border border-gray-50"></td>
                                        <td class="p-2 border border-gray-50"></td>
                                    </tr>
                                    <!-- 10:00 Slot -->
                                    <tr>
                                        <td
                                            class="p-5 border border-gray-50 text-center font-bold text-gray-300 text-xs">
                                            10:00</td>
                                        <td class="p-2 border border-gray-50"></td>
                                        <td class="p-2 border border-gray-50 align-top">
                                            <div
                                                class="bg-purple-600 text-white p-4 rounded-3xl shadow-xl shadow-purple-500/20 ring-4 ring-purple-500/5 hover:scale-[1.03] transition-transform cursor-pointer">
                                                <p
                                                    class="text-[10px] font-bold opacity-80 uppercase tracking-widest mb-1">
                                                    C02 • COURS</p>
                                                <p class="font-black text-[13px] leading-tight mb-3">Systèmes Distribués
                                                </p>
                                                <div
                                                    class="flex items-center justify-between text-[10px] font-bold opacity-90">
                                                    <span class="flex items-center gap-1.5"><i data-lucide="map-pin"
                                                            class="w-3 h-3"></i> Salle 202</span>
                                                    <span class="flex items-center gap-1.5"><i data-lucide="user"
                                                            class="w-3 h-3"></i> Dr. Gogan</span>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="p-2 border border-gray-50"></td>
                                        <td class="p-2 border border-gray-50"></td>
                                        <td class="p-2 border border-gray-50 align-top">
                                            <div
                                                class="bg-orange-500 text-white p-4 rounded-3xl shadow-xl shadow-orange-500/20 ring-4 ring-orange-500/5 hover:scale-[1.03] transition-transform cursor-pointer">
                                                <p
                                                    class="text-[10px] font-bold opacity-80 uppercase tracking-widest mb-1">
                                                    ANG • LANGUES</p>
                                                <p class="font-black text-[13px] leading-tight mb-3">Anglais Technique
                                                </p>
                                                <div
                                                    class="flex items-center justify-between text-[10px] font-bold opacity-90">
                                                    <span class="flex items-center gap-1.5"><i data-lucide="map-pin"
                                                            class="w-3 h-3"></i> Salle 12</span>
                                                    <span class="flex items-center gap-1.5"><i data-lucide="user"
                                                            class="w-3 h-3"></i> Mr. Johnson</span>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="p-2 border border-gray-50"></td>
                                    </tr>
                                    <!-- Pause Slot -->
                                    <tr class="bg-gray-50/30">
                                        <td
                                            class="p-5 border border-gray-50 text-center font-bold text-gray-300 text-xs text-center font-black">
                                            12:00</td>
                                        <td colspan="6" class="p-3 text-center">
                                            <div
                                                class="py-2 border-2 border-dashed border-gray-100 rounded-2xl flex items-center justify-center gap-3">
                                                <i data-lucide="coffee" class="w-4 h-4 text-gray-300"></i>
                                                <span
                                                    class="text-[10px] font-black text-gray-300 uppercase tracking-[0.6em]">REPOS
                                                    & DÉJEUNER</span>
                                            </div>
                                        </td>
                                    </tr>
                                    <!-- 14:00 Slot -->
                                    <tr>
                                        <td
                                            class="p-5 border border-gray-50 text-center font-bold text-gray-300 text-xs">
                                            14:00</td>
                                        <td class="p-2 border border-gray-50"></td>
                                        <td class="p-2 border border-gray-50 align-top">
                                            <div
                                                class="bg-blue-400 text-white p-4 rounded-3xl shadow-xl shadow-blue-400/20 ring-4 ring-blue-400/5 hover:scale-[1.03] transition-transform cursor-pointer">
                                                <p
                                                    class="text-[10px] font-bold opacity-80 uppercase tracking-widest mb-1">
                                                    TD • SÉANCE</p>
                                                <p class="font-black text-[13px] leading-tight mb-3">Réseaux TCP/IP</p>
                                                <div
                                                    class="flex items-center justify-between text-[10px] font-bold opacity-90">
                                                    <span class="flex items-center gap-1.5"><i data-lucide="map-pin"
                                                            class="w-3 h-3"></i> Labo Réseaux</span>
                                                    <span class="flex items-center gap-1.5"><i data-lucide="user"
                                                            class="w-3 h-3"></i> Mr. Amoussou</span>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="p-2 border border-gray-50"></td>
                                        <td class="p-2 border border-gray-50 align-top" colspan="2">
                                            <div
                                                class="bg-gray-900 text-white p-4 rounded-3xl shadow-xl shadow-gray-900/10 ring-4 ring-gray-900/5 hover:scale-[1.01] transition-transform cursor-pointer flex items-center justify-between border-l-8 border-red-500">
                                                <div>
                                                    <p
                                                        class="text-[10px] font-bold text-red-400 uppercase tracking-widest mb-1 flex items-center gap-2">
                                                        <span
                                                            class="w-2 h-2 rounded-full bg-red-500 animate-pulse"></span>
                                                        SÉMINAIRE OBLIGATOIRE
                                                    </p>
                                                    <p class="font-black text-[14px]">Intelligence Artificielle &
                                                        Éthique</p>
                                                </div>
                                                <div class="text-right">
                                                    <p class="text-[10px] font-black opacity-60">AMPHI DHET</p>
                                                    <p class="text-[9px] font-bold opacity-40">14:00 — 17:30</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="p-2 border border-gray-50"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <!-- MODALS -->

    <!-- Modal Nouvelle Filière -->
    <div x-show="showNewMajorModal" x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-in duration-200" x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm" x-cloak>
        <div @click.away="showNewMajorModal = false"
            class="bg-white rounded-[2.5rem] w-full max-w-lg shadow-2xl overflow-hidden transform transition-all border border-gray-100"
            x-show="showNewMajorModal" x-transition:enter="transition ease-out duration-300"
            x-transition:enter-start="scale-95 translate-y-8" x-transition:enter-end="scale-100 translate-y-0">

            <div class="primary-bg p-10 text-white relative overflow-hidden">
                <div class="absolute -right-8 -top-8 w-40 h-40 bg-white/10 rounded-full blur-3xl"></div>
                <button @click="showNewMajorModal = false"
                    class="absolute top-8 right-8 hover:bg-white/10 p-2 rounded-full transition-colors z-20">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
                <div class="relative z-10">
                    <h2 class="text-3xl font-black tracking-tight uppercase">Structure Filière</h2>
                    <p class="text-white/70 mt-2 font-medium">Définissez les paramètres de la nouvelle section.</p>
                </div>
            </div>

            <form class="p-10 space-y-8 bg-white">
                <div class="group">
                    <label
                        class="block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 group-focus-within:text-blue-500 transition-colors">Nom
                        complet de la filière*</label>
                    <input type="text" placeholder="Ex: Cybersécurité et Réseaux"
                        class="w-full bg-gray-50 border-2 border-transparent border-b-gray-100 py-3 px-1 text-lg font-bold text-gray-800 focus:outline-none focus:border-blue-500 transition-all placeholder:text-gray-300">
                </div>

                <div class="space-y-4">
                    <label class="block text-[10px] font-black text-gray-400 uppercase tracking-widest">Niveau
                        d'études*</label>
                    <div class="flex flex-wrap gap-2">
                        <label class="cursor-pointer group flex-1 min-w-[60px]">
                            <input type="radio" name="level" class="peer hidden">
                            <div
                                class="bg-gray-50 border border-gray-100 rounded-2xl py-3 px-1 text-center font-black text-xs text-gray-400 peer-checked:bg-blue-600 peer-checked:text-white transition-all shadow-sm">
                                L1</div>
                        </label>
                        <label class="cursor-pointer group flex-1 min-w-[60px]">
                            <input type="radio" name="level" class="peer hidden">
                            <div
                                class="bg-gray-50 border border-gray-100 rounded-2xl py-3 px-1 text-center font-black text-xs text-gray-400 peer-checked:bg-blue-600 peer-checked:text-white transition-all shadow-sm">
                                L2</div>
                        </label>
                        <label class="cursor-pointer group flex-1 min-w-[60px]">
                            <input type="radio" name="level" class="peer hidden" checked>
                            <div
                                class="bg-gray-50 border border-gray-100 rounded-2xl py-3 px-1 text-center font-black text-xs text-gray-400 peer-checked:bg-blue-600 peer-checked:text-white transition-all shadow-sm">
                                L3</div>
                        </label>
                        <label class="cursor-pointer group flex-1 min-w-[60px]">
                            <input type="radio" name="level" class="peer hidden">
                            <div
                                class="bg-gray-50 border border-gray-100 rounded-2xl py-3 px-1 text-center font-black text-xs text-gray-400 peer-checked:bg-blue-600 peer-checked:text-white transition-all shadow-sm">
                                M1</div>
                        </label>
                        <label class="cursor-pointer group flex-1 min-w-[60px]">
                            <input type="radio" name="level" class="peer hidden">
                            <div
                                class="bg-gray-50 border border-gray-100 rounded-2xl py-3 px-1 text-center font-black text-xs text-gray-400 peer-checked:bg-blue-600 peer-checked:text-white transition-all shadow-sm">
                                M2</div>
                        </label>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-8">
                    <div>
                        <label class="block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3">Code
                            Système</label>
                        <div
                            class="w-full bg-gray-50 rounded-xl py-3 px-4 text-xs font-black text-gray-400 border border-gray-100 group hover:border-blue-200 transition-colors">
                            GEN-INFO-2026</div>
                    </div>
                    <div>
                        <label class="block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3">Année
                            Scolaire*</label>
                        <select
                            class="w-full bg-gray-50 border border-gray-100 rounded-xl py-3 px-4 text-xs font-black text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 transition-all appearance-none cursor-pointer">
                            <option>2025-2026</option>
                            <option>2026-2027</option>
                        </select>
                    </div>
                </div>

                <div class="flex gap-4 pt-6">
                    <button type="button" @click="showNewMajorModal = false"
                        class="flex-1 py-4 px-4 rounded-[1.5rem] border border-gray-100 text-xs font-black uppercase tracking-widest text-gray-400 hover:bg-gray-50 transition-all">Ignorer</button>
                    <button type="submit"
                        class="flex-1 py-4 px-4 rounded-[1.5rem] bg-[#2E75B6] text-white text-xs font-black uppercase tracking-widest hover:bg-blue-700 shadow-2xl shadow-blue-500/30 transition-all active:scale-95">Valider</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Nouvel Étudiant -->
    <div x-show="showAddStudentModal" x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-in duration-200" x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm" x-cloak>
        <div @click.away="showAddStudentModal = false"
            class="bg-white rounded-[2.5rem] w-full max-w-lg shadow-2xl overflow-hidden transform transition-all border border-gray-100"
            x-show="showAddStudentModal" x-transition:enter="transition ease-out duration-300"
            x-transition:enter-start="scale-95 translate-y-8" x-transition:enter-end="scale-100 translate-y-0">

            <div class="bg-blue-600 p-10 text-white relative overflow-hidden">
                <div class="absolute -right-8 -top-8 w-32 h-32 bg-white/10 rounded-full blur-2xl"></div>
                <button @click="showAddStudentModal = false"
                    class="absolute top-8 right-8 hover:bg-white/10 p-2 rounded-full transition-colors z-20">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
                <div class="relative z-10">
                    <h2 class="text-3xl font-black tracking-tight uppercase">Nouvel Étudiant</h2>
                    <p class="text-blue-100 mt-2 font-medium">Inscription manuelle dans le département.</p>
                </div>
            </div>

            <form class="p-10 space-y-6">
                <div class="grid grid-cols-2 gap-4">
                    <div class="space-y-2">
                        <label
                            class="block text-[10px] font-black text-gray-400 uppercase tracking-widest">Prénom*</label>
                        <input type="text" placeholder="Ex: Jean"
                            class="w-full bg-gray-50 border border-gray-100 rounded-xl py-3 px-4 text-xs font-bold text-gray-800 focus:outline-none focus:border-blue-500 transition-all">
                    </div>
                    <div class="space-y-2">
                        <label class="block text-[10px] font-black text-gray-400 uppercase tracking-widest">Nom*</label>
                        <input type="text" placeholder="Ex: DUPONT"
                            class="w-full bg-gray-50 border border-gray-100 rounded-xl py-3 px-4 text-xs font-bold text-gray-800 focus:outline-none focus:border-blue-500 transition-all">
                    </div>
                </div>
                <div class="space-y-2">
                    <label class="block text-[10px] font-black text-gray-400 uppercase tracking-widest">Email
                        Académique*</label>
                    <input type="email" placeholder="j.dupont@u-admin.edu"
                        class="w-full bg-gray-50 border border-gray-100 rounded-xl py-3 px-4 text-xs font-bold text-gray-800 focus:outline-none focus:border-blue-500 transition-all">
                </div>
                <div class="space-y-2">
                    <label class="block text-[10px] font-black text-gray-400 uppercase tracking-widest">Filière
                        d'affectation*</label>
                    <select
                        class="w-full bg-gray-50 border border-gray-100 rounded-xl py-3 px-4 text-xs font-bold text-gray-600 focus:outline-none focus:border-blue-500 transition-all appearance-none cursor-pointer">
                        <option>Sélectionner une filière</option>
                        <option>L1 Informatique</option>
                        <option>L2 Informatique</option>
                        <option>L3 Informatique</option>
                    </select>
                </div>

                <div class="pt-6 flex gap-4">
                    <button type="button" @click="showAddStudentModal = false"
                        class="flex-1 py-4 px-4 rounded-2xl border border-gray-100 text-xs font-black uppercase tracking-widest text-gray-400 hover:bg-gray-50 transition-all">Annuler</button>
                    <button type="submit"
                        class="flex-1 py-4 px-4 rounded-2xl bg-blue-600 text-white text-xs font-black uppercase tracking-widest hover:bg-blue-700 shadow-xl shadow-blue-500/20 transition-all active:scale-95">Inscrire
                        l'étudiant</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Initialize Lucide Icons
        window.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();

            // Mini Trend Chart (Context Right Column)
            const ctxMini = document.getElementById('miniTrendChart').getContext('2d');
            new Chart(ctxMini, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Féb', 'Mar', 'Avr', 'Mai'],
                    datasets: [{
                        data: [65, 78, 72, 85, 89],
                        borderColor: '#2D3748',
                        backgroundColor: 'rgba(45, 55, 72, 0.05)',
                        fill: true,
                        tension: 0.4,
                        borderWidth: 2,
                        pointRadius: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { display: false },
                        x: { display: false }
                    }
                }
            });
        });
    </script>
</body>

</html>